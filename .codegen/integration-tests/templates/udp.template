// generated code - ** DO NOT EDIT **

package uhppoted

import (
    "net/netip"
    "reflect"
    "testing"

    "github.com/uhppoted/uhppoted-lib-go/src/uhppoted"
    "github.com/uhppoted/uhppoted-lib-go/src/uhppoted/types"

    test "integration-tests"
)

{{ range $func := . }}{{ range $test := $func.Tests }}
func Test{{ titleCase $test.Name }}(t *testing.T) {
{{- range $arg := $test.Args }}{{ if eq $arg.Name "controller"}}
      controller := uhppoted.Controller{
                        ID: {{ $arg.Value }},
                        Address:  netip.MustParseAddrPort("127.0.0.1:50002"),
                        Protocol: "udp",
                     }{{ end }}
{{ end }}
{{- range $arg := $test.Args }}{{ if ne $arg.Name "controller"}}      {{ camelCase $arg.Name }} := {{ testarg $arg }}{{ end }}
{{ end }}
    expected := test.Expected.{{ titleCase $test.Name }}

    response, err := uhppoted.{{ titleCase $func.Name }}(u{{ range $arg := $test.Args }}, {{ camelCase $arg.Name }}{{end }}, timeout)

    if err != nil {
        t.Fatalf("%v", err)
    } else if !reflect.DeepEqual(response, expected) {
        t.Errorf("incorrect response\n   expected:%#v\n   got:     %#v", expected, response)
    }
}
{{ end }}{{ end }}
